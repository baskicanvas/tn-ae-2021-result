(this["webpackJsonptn-ae-2021"]=this["webpackJsonptn-ae-2021"]||[]).push([[0],{171:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(67),l=a.n(r),s=(a(66),a(4)),i=a(2),o=a(0),d=function(e){var t=e.id,a=(e.className,e.defaultValue),n=e.options,c=e.dropdownVale,r=e.disabled,l=e.onOptionChange;return Object(o.jsx)("div",{children:Object(o.jsx)("select",{id:t,defaultValue:a,className:"select-option",disabled:r,onChange:function(e){return l(e.target.value)},children:n.map((function(e,t){var a=e.value,n=e.label;return Object(o.jsx)("option",{value:a,defaultValue:a===c,children:n},t)}))})})},u=function(e){var t=e.className,a=e.text;return Object(o.jsx)("div",{className:t,children:Object(o.jsx)("h3",{children:a})})},j=function(e){var t=e.electionSummary;return Object(o.jsx)("div",{className:"election-summary",children:Object(o.jsx)("table",{className:"election-summary-table",children:Object(o.jsx)("tbody",{children:t.map((function(e,t){var a=e.key,n=e.value;return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-head-line",children:a}),Object(o.jsx)("td",{className:"table-head-line",children:n})]},t)}))})})})},h=function(e){var t=e.resultSummary,a=e.allColors,n=e.winnersData;return Object(o.jsx)("div",{className:"result-summary",children:Object(o.jsxs)("table",{className:"result-summary-table",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-head-line",children:"No"}),Object(o.jsx)("td",{className:"table-head-line",children:"Party"}),Object(o.jsx)("td",{className:"table-head-line",children:"Party color"}),Object(o.jsx)("td",{className:"table-head-line",children:"No of seats"})]})}),Object(o.jsxs)("tbody",{children:[t.map((function(e,t){var n=e.party,c=e.seats;return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-head-line",children:t+1}),Object(o.jsx)("td",{className:"table-head-line",children:n}),Object(o.jsx)("td",{className:"table-head-line",children:Object(o.jsx)("svg",{width:20,height:20,children:Object(o.jsx)("circle",{cx:10,cy:10,r:9,fill:a[n]})})}),Object(o.jsx)("td",{className:"table-head-line",children:c})]},t)})),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{colSpan:3,children:"Total"}),Object(o.jsx)("td",{children:n.length})]})]})]})})},b=function(e){var t=e.className,a=e.textContent;return Object(o.jsx)("p",{className:t,children:a})},m=function(e){var t=e.className;return Object(o.jsx)("p",{className:t,children:"09/09/2021 - Baskaran Karuppaiyan"})},x=function(e){var t=e.xScale,a=e.innerHeight,n=e.tickFormat;return t.ticks(5).map((function(e,c){return Object(o.jsxs)("g",{className:"tick",transform:"translate(".concat(t(e),", 0)"),children:[Object(o.jsx)("line",{x1:0,y1:0,x2:0,y2:a},c),Object(o.jsx)("text",{dy:".71em",style:{textAnchor:"middle"},y:a+3,children:n(e)})]},c)}))},f=c.a.memo(x),p=function(e){var t=e.yScale,a=e.innerWidth;return t.domain().map((function(e,n){return Object(o.jsx)("g",{className:"tick",transform:"translate(0, ".concat(t(e)+t.bandwidth()/2,")"),children:Object(o.jsx)("text",{dy:".32em",x:a/5-5,style:{textAnchor:"end"},children:e})},n)}))},O=c.a.memo(p),v=function(e){var t=e.cName,a=e.xScale,n=e.yScale,c=e.getConsNumber,r=e.innerWidth,l=e.xValue,s=e.yValue,i=e.data,d=e.onMarksBarClick;return i.map((function(e,i){return Object(o.jsx)("g",{transform:"translate(".concat(a(r/2),", 0)"),children:Object(o.jsx)("rect",{className:t,x:0,y:n(s(e)),width:a(l(e))-a(r/2),height:n.bandwidth(),onClick:function(){return d(c(e))}})},s(e))}))};function g(e,t){return e.cName===t.cName&&e.xScale===t.xScale&&e.yScale===t.yScale&&e.innerWidth===t.innerWidth&&e.xValue===t.xValue&&e.yValue===t.yValue&&e.data===t.data}var y=c.a.memo(v,g),N=function(e){var t=e.xScale,a=e.yScale,n=e.rScale,c=e.rDomain,r=e.xValue,l=e.yValue,s=e.selectColor,i=e.allColors,d=e.opacity;return e.data.map((function(e,u){return n.domain([0,c(e)]),Object(o.jsx)("circle",{cx:t(r(e)),cy:a(l(e))+a.bandwidth()/2,r:n(r(e))/2,fill:i[s(e)],opacity:d},u)}))},C=c.a.memo(N),S=function(e){var t=e.margin,a=e.xScale,n=e.yScale,c=e.yValue,r=e.xValueVotes,l=e.xValuePolledVotes,s=e.party,i=e.xValueCandidateVotes,d=e.candidateVotes,u=e.selectColor,j=e.allColors,h=e.candidate,b=e.consData,m=e.dataFormat,x=e.onCloseBtnClick;if(void 0===b)return null;var f=a(r(b[0]))+12,p=n(c(b[0]))+t.top-15,O={transform:"translate(".concat(f,"px, calc(").concat(p,"px))")};return Object(o.jsx)("div",{className:"bar-chart-tooltip",style:O,children:Object(o.jsxs)("table",{children:[Object(o.jsxs)("thead",{className:"table-head",children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-head-name",colSpan:5,children:c(b[0])}),Object(o.jsx)("td",{className:"table-head-name",children:Object(o.jsx)("button",{onClick:function(){return x(void 0)},children:"X"})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{colSpan:4,children:"Total Votes"}),Object(o.jsx)("td",{colSpan:2,children:m(r(b[0]))})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-head-line",colSpan:4,children:"Total Polled Votes"}),Object(o.jsx)("td",{className:"table-head-line",colSpan:2,children:m(l(b[0]))})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-head-line",children:"No"}),Object(o.jsx)("td",{className:"table-head-line",children:"Name"}),Object(o.jsx)("td",{className:"table-head-line",children:"Party"}),Object(o.jsx)("td",{className:"table-head-line",children:"Votes"}),Object(o.jsx)("td",{className:"table-head-line",children:"%"}),Object(o.jsx)("td",{className:"table-head-line"})]})]}),Object(o.jsx)("tbody",{children:b.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t+1}),Object(o.jsx)("td",{children:h(e)}),Object(o.jsx)("td",{children:s(e)}),Object(o.jsx)("td",{children:m(i(e))}),Object(o.jsx)("td",{children:d(e)}),Object(o.jsx)("td",{children:Object(o.jsx)("svg",{width:20,height:20,children:Object(o.jsx)("circle",{cx:10,cy:10,r:9,fill:j[u(e)],opacity:d(e)})})})]},t)}))})]})})},w=c.a.memo(S),_=function(e){var t=e.className,a=e.x,n=e.y;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("g",{transform:"translate(".concat(a,",").concat(n,")"),children:[Object(o.jsx)("rect",{className:t,x:0,y:0,width:40,height:20}),Object(o.jsx)("text",{className:"chart-label",x:100,y:15,textAnchor:"middle",children:"Total votes"}),Object(o.jsx)("circle",{className:t,cx:200,cy:10,r:10}),Object(o.jsx)("text",{className:"chart-label",x:275,y:15,textAnchor:"middle",children:"Polled votes"}),Object(o.jsx)("text",{className:"chart-label",x:650,y:15,textAnchor:"middle",children:"Other colored circles represents different party votes"})]})})},k=a(3),V=a(5),D=i.e(",d"),T=function(e){return e.total_votes},A=function(e){return e.total_polled_votes},M=function(e){return e.candidate_total_votes},P=function(e){return e.constituency},I=function(e){return e.constituency_number},L=function(e){return e.district},E=function(e){return e.district_number},R=function(e){return e.party},W=function(e){return"total_polled_votes"},F=function(e){return e.candidate},K=function(e){return e.party},G=function(e){return e["candidate_vote_%"]},B=function(e,t){return e.filter((function(e){return I(e)===t}))},z=function(e,t){return e.filter((function(e){return E(e)===+t}))},H=function(e,t){return e.filter((function(e){return K(e)===t}))},X=function(e,t){return Y(B(e,t),"candidate_total_votes")},Y=function(e,t){return e.slice().sort((function(e,a){return i.d(e[t],a[t])}))},J=function(e,t){return e.slice().sort((function(e,a){return i.a(e[t],a[t])}))},q=function(e){return Object(V.a)(new Map(e.map((function(e){return[e.constituency_number,0]}))).keys())},U=function(e,t){return Object(V.a)(new Map(e.map((function(e){return[e[t],e]}))).values())},Q=function(e,t){return Object(V.a)(new Set(e.map((function(e){return e[t]}))))},Z=function(e){var t=U(e,"party"),a=J(t,"party");return Object(V.a)(a.map((function(t){return{party:K(t),seats:H(e,K(t)).length}})))},$={"All India Anna Dravida Munnetra Kazhagam":"#006400","Amma Makkal Munnettra Kazagam":"#b0c4de","Bharatiya Janata Party":"#ff8c00","Communist Party of India":"#ff0000","Communist Party of India  (Marxist)":"#ff0000","Desiya Murpokku Dravida Kazhagam":"#cd853f","Dravida Munnetra Kazhagam":"#800000",Independent:"#9400d3","Indian National Congress":"#228b22","Indian Union Muslim League":"#9acd32","Makkal Needhi Maiam":"#ff69b4","Naam Tamilar Katchi":"#00ff00","None of the Above":"#000000","Pattali Makkal Katchi":"#ffff00","Viduthalai Chiruthaigal Katchi":"#1e90ff",total_polled_votes:"#808080",total_votes:"#E5E2E0",bar_color:"#E5E2E0",votes_map_color:"#4b0082",others:"#9400d3"},ee=[{value:"default",label:"Default"},{value:"poll_percentage",label:"Poll percentage"},{value:"total_votes",label:"Total votes"}],te=[{value:"candidates",label:"Candidates"},{value:"total_polled_votes",label:"Polled votes"},{value:"total_votes",label:"Total votes"},{value:"winning_margin",label:"Winning Margin"}],ae={top:30,right:20,bottom:65,left:20},ne=1080-ae.left-ae.right,ce=function(e){var t=e.data,a=e.winnersData,r=e.district,l=e.chartOrder,d=e.partyName,u=Object(n.useState)(void 0),j=Object(s.a)(u,2),h=j[0],b=j[1],m=c.a.useMemo((function(){if(!t)return{};var e={},n={},c={};if(n=e=a,c=t,"ALL DISTRICTS"!==r&&(n=e=z(a,r),c=z(t,r)),"All Winning Parties"!==d){n=e=H(a,d);var s=q(e);c=function(e,t){return Object(V.a)(t.map((function(t,a){return B(e,t)}))).flat()}(t,s)}c.map((function(e){return e.poll_percentage=A(e)/T(e)}));var o=30*e.length+ae.top+ae.bottom,u=o-ae.top-ae.bottom;"default"!==l&&(n=Y(e,l));var j=i.l().domain([0,i.j(a.map(T))]).range([ne/5,ne]),h=i.k().domain(n.map(P)).range([0,u]).padding(.1),b=i.l().range([0,h.bandwidth()]);return{xScale:j,yScale:h,rScale:b,innerHeight:u,height:o,uniqueAcData:n,allDataSort:c}}),[t,a,r,l,d]),x=m.xScale,p=m.yScale,v=m.rScale,g=m.innerHeight,N=m.height,S=m.uniqueAcData,k=m.allDataSort;return Object(n.useEffect)((function(){b(void 0)}),[r,l,d]),t?Object(o.jsxs)("div",{id:"wrapper",className:"wrapper",children:[Object(o.jsx)("svg",{width:1080,height:N,children:Object(o.jsxs)("g",{transform:"translate(".concat(0,",",ae.top,")"),children:[Object(o.jsx)(_,{className:"total-votes",x:50,y:-25}),Object(o.jsx)("g",{children:Object(o.jsx)(f,{xScale:x,innerHeight:g,tickFormat:i.e(",d")})}),Object(o.jsx)("g",{children:Object(o.jsx)(O,{yScale:p,innerWidth:ne})}),Object(o.jsx)(y,{cName:"total-votes",xScale:x,yScale:p,innerWidth:ne,xValue:T,yValue:P,getConsNumber:I,data:S,onMarksBarClick:function(e){return b(X(k,e))}}),Object(o.jsx)("g",{children:Object(o.jsx)(C,{xScale:x,yScale:p,rScale:v,rDomain:A,xValue:A,yValue:P,selectColor:W,allColors:$,opacity:.1,data:S})}),Object(o.jsx)("g",{children:Object(o.jsx)(C,{xScale:x,yScale:p,rScale:v,rDomain:A,xValue:M,yValue:P,selectColor:R,allColors:$,opacity:.9,data:k})})]})}),Object(o.jsx)(w,{margin:ae,xScale:x,yScale:p,xValueVotes:T,xValuePolledVotes:A,yValue:P,party:K,xValueCandidateVotes:M,candidateVotes:G,selectColor:R,allColors:$,candidate:F,consData:h,dataFormat:i.e(",d"),onCloseBtnClick:b})]}):Object(o.jsx)("h1",{children:"Loading..."})},re=a(13),le=function(e,t){var a=Object(n.useState)(null),c=Object(s.a)(a,2),r=c[0],l=c[1];return Object(n.useEffect)((function(){i.i(e).then((function(e){switch(t){case"hex-map":var a=e.objects.tn_ac_2021_hex_map;l({tn_ac:re.a(e,a),interiors:re.b(e,a,(function(e,t){return e!==t}))});break;case"std-map":var n=e.objects.tn_ac_2021;l({tn_ac:re.a(e,n),interiors:re.b(e,n,(function(e,t){return e!==t}))});break;default:l(null)}}))}),[]),r},se=c.a.forwardRef((function(e,t){var a=e.className,n=e.mapData,c=n.tn_ac,r=(n.interiors,e.winnersData),l=e.path,s=e.fillColor;return Object(o.jsx)("g",{ref:t,className:a,children:c.features.map((function(e,t){var a=e.properties.AC_NO,n=e.properties.DT_CODE;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("path",{className:"land",district:n,constituency:a,d:l(e),fill:s(r,a),children:Object(o.jsx)("title",{className:"geo-tooltip"})},t)})}))})}));function ie(e,t){return e.mapData===t.mapData}var oe=c.a.memo(se,ie),de=function(e){var t=e.district,a=e.partyName,c=e.mapData,r=e.winnersData,l=e.path,s=e.fillColor,d=e.onGeoMapClick,u=Object(n.useRef)([]),j=H(r,a);return Object(n.useEffect)((function(){var e=i.m(u.current).selectAll("path");e.each((function(){var e=i.m(this),t=B(r,Number(e.attr("constituency")));e.select("title").text("".concat(P(t[0])," ","\n"," ").concat(K(t[0]))),e.on("click",(function(t){d({constituency:Number(e.attr("constituency")),mousePos:{x:t.pageX,y:t.pageY}})}))})),"ALL DISTRICTS"===t&&"All Winning Parties"===a?e.style("opacity",1):"ALL DISTRICTS"===t&&"All Winning Parties"===a||e.each((function(){var e=i.m(this),a=B(j,Number(e.attr("constituency")));e.attr("district")===t||a.length>0?e.style("opacity",1):e.style("opacity",.4)}))}),[t,a,c]),Object(o.jsx)(oe,{ref:u,className:"winners-map",mapData:c,winnersData:r,path:l,fillColor:s})},ue=function(e){var t=e.resultSummary,a=0;return Object(o.jsx)("g",{children:t.map((function(e,t){return a+=25,Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("circle",{cx:20,cy:a,r:10,fill:$[e.party]},e.party),Object(o.jsx)("text",{x:35,y:a+5,children:e.party},t)]})}))})},je=c.a.forwardRef((function(e,t){for(var a=e.steps,n=e.additionalSteps,c=e.fillColor,r=0,l=[],s=0;s<=a+n;s++)l.push(s);return Object(o.jsx)("g",{ref:t,children:l.map((function(e,t){return r+=25,Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("circle",{cx:20,cy:r,r:10,fill:c()}),Object(o.jsx)("text",{x:35,y:r+5})]})}))})})),he=function(e){var t=e.voteMap,a=e.mapData,c=e.winnersData,r=e.path,l=e.fillColor,s=e.onGeoMapClick,d=Object(n.useRef)([]),u=Object(n.useRef)(),j=i.e(",d"),h=i.e(".2%"),b=i.e(".2f");return Object(n.useEffect)((function(){var e=1,a=1,n=0,r=0,l=i.m(d.current).selectAll("path"),o=i.m(u.current),m=o.selectAll("text"),x=o.selectAll("circle");l.each((function(){var n=i.m(this),r=B(c,Number(n.attr("constituency")));switch(t){case"candidates":var l=r[0].candidates;a=l/100,n.select("title").text("".concat(P(r[0])," ","\n"," ").concat(l));break;case"total_votes":e=i.j(c.map(T)),a=r[0][t]/e,n.select("title").text("".concat(P(r[0])," ","\n"," ").concat(j(T(r[0]))));break;case"total_polled_votes":e=r[0].total_votes,a=r[0][t]/e,n.select("title").text("".concat(P(r[0])," ","\n"," ").concat(j(A(r[0]))," (").concat(h(r[0].poll_percentage),")"));break;case"winning_margin":e=A(r[0]);var o=r[0].winning_margin;a=o/e,n.select("title").text("".concat(P(r[0])," ","\n"," ").concat(j(o)," (").concat(b(r[0].winning_margin_percentage),"%)"));break;default:a=1}n.style("fill",i.h(a)),n.on("click",(function(e){s({constituency:Number(n.attr("constituency")),mousePos:{x:e.pageX,y:e.pageY}})}))})),m.each((function(){var e=i.m(this);"candidates"===t?(e.text(n),n+=20):(e.text("".concat(n,"%")),n+=20)})),x.each((function(){i.m(this).attr("fill",i.h(r)),r+=.2}))}),[t,a]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(je,{ref:u,steps:5,additionalSteps:0,fillColor:l}),Object(o.jsx)(oe,{ref:d,className:"votes-map",mapData:a,winnersData:c,path:r,fillColor:l})]})},be=function(e){var t=e.selectParty,a=e.mapData,c=e.winnersData,r=e.consData,l=e.path,s=e.fillColor,d=e.onGeoMapClick,u=Object(n.useRef)([]),j=Object(n.useRef)();return Object(n.useEffect)((function(){var e=0,a=0,n=0;e="Independent"===t?function(e,t){var a=[];return t.map((function(t,n){var c=e.filter((function(e){return I(e)===I(t)&&"Independent"===K(e)})),r=Y(c,"candidate_total_votes");return r.length>0&&a.push(r[0]),!0})),a}(r,c):H(r,t);var l=i.m(u.current).selectAll("path"),o=i.m(j.current),h=o.selectAll("text"),b=o.selectAll("circle");l.each((function(){var a=i.m(this),n=B(e,Number(a.attr("constituency")));if(n.length>0){var r=s(t);a.attr("fill",r),a.style("fill-opacity",G(n[0])/100),a.attr("stroke",s(t)),a.select("title").text("".concat(P(n[0])," ","\n"," ").concat(G(n[0]),"%"))}else{var l=B(c,Number(a.attr("constituency")));a.attr("fill","#000000"),a.attr("stroke",s(t)),a.style("fill-opacity",.1),a.select("title").text("".concat(P(l[0])))}a.on("click",(function(e){d({constituency:Number(a.attr("constituency")),mousePos:{x:e.pageX,y:e.pageY}})}))})),h.each((function(){var e=i.m(this);a<=100?(e.text("".concat(a,"%")),a+=20):e.text("Not contested")})),b.each((function(){var e=i.m(this);n<=1?(e.attr("fill",s(t)),e.style("fill-opacity",n),n+=.2):(e.attr("fill","#000000"),e.style("fill-opacity",.1))}))}),[t,a,r,c,s]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(je,{ref:j,steps:5,additionalSteps:1,fillColor:s}),Object(o.jsx)(oe,{ref:u,className:"parties-map",mapData:a,winnersData:c,path:l,fillColor:s})]})},me=function(e){var t=e.id,a=e.name,n=e.checked,c=e.value,r=e.text;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{type:"radio",id:t,name:a,defaultChecked:n,value:c}),Object(o.jsx)("label",{htmlFor:t,children:r})]})},xe=function(e){var t=e.className,a=e.onChangeValue;return Object(o.jsxs)("div",{className:t,onChange:function(e){return a(e.target.value)},children:[Object(o.jsx)(me,{id:"hextile-map",name:"map-type",checked:!0,value:"hextile-map",text:"Hex tile map"}),Object(o.jsx)(me,{id:"standard-map",name:"map-type",checked:!1,value:"standard-map",text:"Standard map"})]})},fe=function(e){var t=e.xValueVotes,a=e.xValuePolledVotes,n=e.xValueCandidateVotes,c=e.yValue,r=e.party,l=e.candidateVotes,s=e.selectColor,i=e.allColors,d=e.candidate,u=e.mouseConsInfo,j=e.dataFormat,h=e.onCloseBtnClick;if(void 0===u)return null;var b=u.consInfo,m=u.mousePos,x=m.x+7,f=m.y-15-7,p={transform:"translate(".concat(x,"px, calc(").concat(f,"px))")};return Object(o.jsx)("div",{className:"geo-map-tooltip",style:p,children:Object(o.jsxs)("table",{children:[Object(o.jsxs)("thead",{className:"table-head",children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-head-name",colSpan:5,children:c(b[0])}),Object(o.jsx)("td",{className:"table-head-name",children:Object(o.jsx)("button",{onClick:function(){return h(void 0)},children:"X"})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{colSpan:4,children:"Total Votes"}),Object(o.jsx)("td",{colSpan:2,children:j(t(b[0]))})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-head-line",colSpan:4,children:"Total Polled Votes"}),Object(o.jsx)("td",{className:"table-head-line",colSpan:2,children:j(a(b[0]))})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-head-line",children:"No"}),Object(o.jsx)("td",{className:"table-head-line",children:"Name"}),Object(o.jsx)("td",{className:"table-head-line",children:"Party"}),Object(o.jsx)("td",{className:"table-head-line",children:"Votes"}),Object(o.jsx)("td",{className:"table-head-line",children:"%"}),Object(o.jsx)("td",{className:"table-head-line"})]})]}),Object(o.jsx)("tbody",{children:b.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t+1}),Object(o.jsx)("td",{children:d(e)}),Object(o.jsx)("td",{children:r(e)}),Object(o.jsx)("td",{children:j(n(e))}),Object(o.jsx)("td",{children:l(e)}),Object(o.jsx)("td",{children:Object(o.jsx)("svg",{width:20,height:20,children:Object(o.jsx)("circle",{cx:10,cy:10,r:9,fill:i[s(e)],opacity:l(e)})})})]},t)}))})]})})},pe=c.a.memo(fe),Oe=900,ve=900,ge=i.f().center([78.5,10.5]).scale(8e3).translate([450,500]),ye=i.g(ge),Ne=function(e){var t=e.hexMapData,a=e.stdMapData,c=e.consData,r=e.winnersData,l=e.district,j=e.partyName,h=Object(n.useState)("hextile-map"),m=Object(s.a)(h,2),x=m[0],f=m[1],p=Object(n.useState)("candidates"),O=Object(s.a)(p,2),v=O[0],g=O[1],y=Object(n.useState)("Dravida Munnetra Kazhagam"),N=Object(s.a)(y,2),C=N[0],S=N[1],w=Object(n.useState)(void 0),_=Object(s.a)(w,2),k=_[0],D=_[1],L=0;L="hextile-map"===x?t:a;var E=Z(r),W=function(e){var t=e.filter((function(e){return G(e)>=1})),a=Object(V.a)(new Set(t.map((function(e){return K(e)})))).slice().sort((function(e,t){return i.a(e,t)}));return Object(V.a)(a.map((function(e){return{value:e,label:e}})))}(c);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(u,{className:"subtitle",text:"Winners Map"}),Object(o.jsx)(b,{className:"text-content",textContent:"Winning parties overview. The hex tile map better represents the data set."}),Object(o.jsx)(xe,{className:"margin-tb",onChangeValue:f}),Object(o.jsx)("div",{children:Object(o.jsxs)("svg",{width:Oe,height:ve,children:[Object(o.jsx)(ue,{resultSummary:E}),Object(o.jsx)(de,{district:l,partyName:j,mapData:L,winnersData:r,path:ye,fillColor:function(e,t){var a=e.find((function(e){return I(e)===t}));return $[K(a)]},onGeoMapClick:function(e){D({consInfo:X(c,e.constituency),mousePos:e.mousePos})}})]})}),Object(o.jsx)(u,{className:"subtitle",text:"Constituencies Information Map"}),Object(o.jsx)(b,{className:"text-content",textContent:"Constituency information view for total number of candidates contested, total polled votes, total votes and\n                winning margin."}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"select-option-container",children:Object(o.jsx)(d,{id:"select-votes",className:"select-votes",defaultValue:"candidates",options:te,defaultVale:v,disabled:!1,onOptionChange:g})}),Object(o.jsx)("div",{children:Object(o.jsx)("svg",{width:Oe,height:ve,children:Object(o.jsx)(he,{voteMap:v,mapData:L,winnersData:r,path:ye,fillColor:function(){return $.votes_map_color},onGeoMapClick:function(e){D({consInfo:X(c,e.constituency),mousePos:e.mousePos})}})})})]}),Object(o.jsx)(u,{className:"subtitle",text:"Vote sharing Map"}),Object(o.jsx)(b,{className:"text-content",textContent:"The vote shating map only includes parties who has secured minimum one percentage of votes atleast in one constituency."}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"select-option-container",children:Object(o.jsx)(d,{id:"select-parties",className:"select-parties",defaultValue:"Dravida Munnetra Kazhagam",options:W,defaultVale:C,disabled:!1,onOptionChange:S})}),Object(o.jsx)("div",{children:Object(o.jsx)("svg",{width:Oe,height:ve,children:Object(o.jsx)(be,{selectParty:C,mapData:L,winnersData:r,consData:c,path:ye,fillColor:function(e){return $[e]?$[e]:$.others},onGeoMapClick:function(e){D({consInfo:X(c,e.constituency),mousePos:e.mousePos})}})})})]}),Object(o.jsx)(pe,{xValueVotes:T,xValuePolledVotes:A,xValueCandidateVotes:M,yValue:P,party:K,candidateVotes:G,selectColor:R,allColors:$,candidate:F,mouseConsInfo:k,dataFormat:i.e(",d"),onCloseBtnClick:D})]})},Ce=function(e){var t=e.consData,a=e.winnersData,n=e.district,c=e.partyName,r=le("https://raw.githubusercontent.com/baskicanvas/tn-ae-2021-result/gh-pages/topo_tn_ac_2021_hex_map.json","hex-map"),l=le("https://raw.githubusercontent.com/baskicanvas/tn-ae-2021-result/gh-pages/topo_tn_ac_2021.json","std-map");return r||l?Object(o.jsx)(Ne,{hexMapData:r,stdMapData:l,consData:t,winnersData:a,district:n,partyName:c}):Object(o.jsx)("h1",{children:"Loading..."})},Se=function(e){var t=e.className;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:t,children:[Object(o.jsx)("p",{children:"The election data sets are collected from election commission websites on 03/07/2021"}),Object(o.jsxs)("ol",{children:[Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"https://results.eci.gov.in/Result2021/partywiseresult-S22.htm?st=S22",target:"_blank",rel:"noopener noreferrer",children:"Tamil Nadu General Assembly Elections MAY-2021"})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"https://www.elections.tn.gov.in/acwithcandidate/",target:"_blank",rel:"noopener noreferrer",children:"District wise assembly consituency electroate and candidates details."})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"https://eci.gov.in/files/file/13680-tamil-nadu-general-legislative-election-2021/",target:"_blank",rel:"noopener noreferrer",children:"Tamil Nadu General Legislative Election 2021."})})]}),Object(o.jsxs)("p",{children:["As on 09/09/2021, the election result data is not available from ",Object(o.jsx)("a",{href:"https://www.elections.tn.gov.in/acwithcandidate/",target:"_blank",rel:"noopener noreferrer",children:"[ 1 ]"}),". The updated election result data is available from ",Object(o.jsx)("a",{href:"https://eci.gov.in/files/file/13680-tamil-nadu-general-legislative-election-2021/",target:"_blank",rel:"noopener noreferrer",children:"[ 3 ]"}),". Comparing with ",Object(o.jsx)("a",{href:"https://www.elections.tn.gov.in/acwithcandidate/",target:"_blank",rel:"noopener noreferrer",children:"[ 1 ]"}),"there are some minor difference in the data set which was not considered."]}),Object(o.jsxs)("p",{children:["The asscembly constituency boundary map files are sourced from ",Object(o.jsx)("a",{href:"http://projects.datameet.org/maps/assembly-constituencies/#download",target:"_blank",rel:"noopener noreferrer",children:"[ 4 ]"}),"and converted to TopoJSON using ",Object(o.jsx)("a",{href:"https://mapshaper.org/",target:"_blank",rel:"noopener noreferrer",children:"[ 6 ]"}),". Used ",Object(o.jsx)("a",{href:"https://qgis.org/en/site/",target:"_blank",rel:"noopener noreferrer",children:"QGIS"})," to create the ",Object(o.jsx)("a",{href:"https://github.com/BaskaranKa/tn-hex-tile-map",target:"_blank",rel:"noopener noreferrer",children:" hex-tile map"})," with similar attribute names as in the boundary map file."]}),Object(o.jsxs)("ol",{start:"4",children:[Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"http://projects.datameet.org/maps/assembly-constituencies/#download",target:"_blank",rel:"noopener noreferrer",children:"India - Assembly Constituencies"})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"https://github.com/datameet/maps/tree/master/assembly-constituencies",target:"_blank",rel:"noopener noreferrer",children:"GitHub repository for India - Assembly Constituencies"})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"https://mapshaper.org/",target:"_blank",rel:"noopener noreferrer",children:"mapshaper for viewing and converting geospatical data"})})]})]})]})},we=function(){var e=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){i.c(e,i.b).then((function(e){r(e)}))}),[]),c}("https://raw.githubusercontent.com/baskicanvas/tn-ae-2021-result/gh-pages/tn_ac_2021.csv"),t=Object(n.useState)("ALL DISTRICTS"),a=Object(s.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)("default"),x=Object(s.a)(l,2),f=x[0],p=x[1],O=Object(n.useState)("All Winning Parties"),v=Object(s.a)(O,2),g=v[0],y=v[1];if(!e)return Object(o.jsx)("h1",{children:"Loading..."});var N=function(e){return q(e).map((function(t,a){var n=X(e,t);return n[0].candidates=n.length,n[0].winning_margin=M(n[0])-M(n[1]),n[0].winning_margin_percentage=G(n[0])-G(n[1]),n[0]}))}(e),C=function(e){var t=U(e,"district_number"),a=J(t,"district"),n=Object(V.a)(a.map((function(e){return{value:E(e),label:L(e)}})));return n.unshift({value:"ALL DISTRICTS",label:"ALL DISTRICTS"}),n}(N),S=function(e){var t=U(e,"party"),a=J(t,"party"),n=Object(V.a)(a.map((function(e){return{value:K(e),label:K(e)}})));return n.unshift({value:"All Winning Parties",label:"All Winning Parties"}),n}(N),w=function(e,t){var a,n,c=[],r=0,l=0,s=0,i=0,o=0;a=Q(e,"party"),n=Q(t,"district_number");var d,u=Object(k.a)(t);try{for(u.s();!(d=u.n()).done;){var j=d.value;r+=j.male_votes,l+=j.female_votes,s+=j.thirunangai_votes,i+=j.total_votes,o+=j.total_polled_votes}}catch(h){u.e(h)}finally{u.f()}return c.push({key:"Total districts",value:D(n.length)},{key:"Total constituency",value:D(t.length)},{key:"Total candidates",value:D(e.length)},{key:"Total parties",value:D(a.length)},{key:"Total male votes",value:D(r)},{key:"Total female votes",value:D(l)},{key:"Total third gender votes",value:D(s)},{key:"Total votes",value:D(i)},{key:"Total polled votes",value:D(o)}),c}(e,N),_=Z(N);return Object(o.jsxs)("article",{children:[Object(o.jsx)(m,{className:"date-time"}),Object(o.jsx)("header",{className:"page-container",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Tamil Nadu General Assembly Elections MAY-2021"}),Object(o.jsxs)("div",{className:"sub-header",children:["Dravida Munnetra Kazhagam and its alliance have won the Tamil Nadu 16th legislative assembly election and Mr. ",Object(o.jsx)("b",{children:"M"}),"uthuvel ",Object(o.jsx)("b",{children:"K"}),"arunanidhi ",Object(o.jsx)("b",{children:"Stalin"})," has been elected as Chief Minister of Tamil Nadu."]})]})}),Object(o.jsxs)("div",{className:"page-container",children:[Object(o.jsx)(u,{className:"subtitle",text:"Election Summary"}),Object(o.jsx)(j,{electionSummary:w}),Object(o.jsx)(u,{className:"subtitle",text:"Result Summary"}),Object(o.jsx)(h,{resultSummary:_,allColors:$,winnersData:N}),Object(o.jsx)(u,{className:"subtitle",text:"Individual Constituency Details"}),Object(o.jsxs)("main",{children:[Object(o.jsxs)("section",{className:"bar-chart",children:[Object(o.jsx)(b,{className:"text-content",textContent:"Each bar represents the total votes in a constituency.\n                                The coloured circles on the bar represents individual party votes \n                                and the circle radius is scaled with respect to the polled votes in that constituency."}),Object(o.jsxs)("div",{className:"bar-chart-container",children:[Object(o.jsx)(d,{id:"select-district",className:"select-district",defaultValue:"ALL DISTRICTS",options:C,defaultVale:c,disabled:"All Winning Parties"!==g,onOptionChange:r}),Object(o.jsx)(d,{id:"barchart-order",className:"barchart-order",defaultValue:"default",options:ee,defaultVale:f,disabled:!1,onOptionChange:p}),Object(o.jsx)(d,{id:"select-winning-party",className:"select-winning-party",defaultValue:"All Winning Parties",options:S,defaultVale:g,disabled:"ALL DISTRICTS"!==c,onOptionChange:y})]}),Object(o.jsx)("div",{id:"wrapper",className:"wrapper",children:Object(o.jsx)(ce,{data:e,winnersData:N,district:c,chartOrder:f,partyName:g})})]}),Object(o.jsx)("section",{className:"geo-winner-chart",children:Object(o.jsx)(Ce,{consData:e,winnersData:N,district:c,partyName:g})})]}),Object(o.jsx)(Se,{className:"text-content-small"})]})]})},_e=document.getElementById("root");l.a.render(Object(o.jsx)(we,{}),_e)},66:function(e,t,a){}},[[171,1,2]]]);
//# sourceMappingURL=main.26357f79.chunk.js.map